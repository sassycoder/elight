function onYouTubeIframeAPIReady(){function a(a){var b=$(a.target.f).parent();a.data==YT.PlayerState.BUFFERING&&b.addClass("ldng"),a.data==YT.PlayerState.PLAYING&&b.removeClass("ldng")}function b(a){var b=$(a.target.f).parent();b.addClass("ldng"),5==a.data&&(window.alert("There is an issue with this video. Please check your internet connection and try again later."),b.removeClass("ldng"))}$(".watch-trailer").each(function(c,d){$(d).find(".player").attr("id","player"+c);window["player"+c]=new YT.Player("player"+c,{events:{onStateChange:a,onError:b}})})}var initPhotoSwipeFromDOM=function(a){"use strict";for(var b=function(a){for(var b,c,d,e,f=a.childNodes,g=f.length,h=[],i=0;g>i;i++)b=f[i],1===b.nodeType&&(c=b.children[0],d=c.getAttribute("data-size").split("x"),e={src:c.getAttribute("href"),w:parseInt(d[0],10),h:parseInt(d[1],10),bgColor:$(c).css("background-color")},b.children.length>1&&(e.title=b.children[1].innerHTML),c.children.length>0&&(e.msrc=c.children[0].getAttribute("src")),e.el=b,h.push(e));return h},c=function k(a,b){return a&&(b(a)?a:k(a.parentNode,b))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var e,g=d.parentNode,h=d.parentNode.childNodes,i=h.length,j=0,k=0;i>k;k++)if(1===h[k].nodeType){if(h[k]===d){e=j;break}j++}return e>=0&&f(e,g),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b},f=function(a,c,d,e){function f(){var a=$(".pswp--open").find(".pswp__counter")[0].innerHTML.replace(/ /g,""),b=$(".pswp--open").find(".pswp__caption__center");$(".wrapper-caption").html('<div class="pswp__counter">'+a+"</div>"+b[b.length-1].innerHTML)}function g(){$(".carousel").slick("slickPause")}function h(){$(".carousel").slick("slickPlay")}function i(a){$(".pswp__img").css("background-color",n[a])}var j,k,l,m=document.querySelectorAll(".pswp")[0],n=[],o=!0;if(l=b(c),k={history:!1,closeOnVerticalDrag:!1,showHideOpacity:!0,zoomEl:!0,shareEl:!1,fullscreenEl:!1,allowPanToNext:!1,preload:[1,3]},e)if(k.galleryPIDs){for(var p=0;p<l.length;p++)if(l[p].pid==a){k.index=p;break}}else k.index=parseInt(a,10)-1;else k.index=parseInt(a,10);isNaN(k.index)||(d&&(k.showAnimationDuration=0),j=new PhotoSwipe(m,PhotoSwipeUI_Default,l,k),j.listen("afterChange",function(){f(),i(j.getCurrentIndex())}),j.listen("gettingData",function(){if(o){for(var a=0,b=j.items.length;b>a;a++)n.push(j.items[a].bgColor);o=!1}}),j.listen("destroy",function(){h()}),j.init(),f(),g())},g=document.querySelectorAll(a),h=0,i=g.length;i>h;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid&&j.gid&&f(j.pid,g[j.gid-1],!0,!0)};initPhotoSwipeFromDOM(".js-modal"),$(function(){"use strict";var a,b,c=$(".single-image-modal"),d=[],e=[];c.each(function(){a=$(this),a.find("a").each(function(){var a=$(this).attr("href"),b=$(this).css("background-color"),c=$(this).data("size").split("x"),e=c[0],f=c[1],g=$(this).next("figcaption").html(),h=this,i={src:a,w:e,h:f,title:g,el:h,bgColor:b};d.push(i)})});var f=$(".pswp")[0];$(".single-image-modal").on("click","figure",function(a){function g(){var a=$(".pswp--open").find(".pswp__counter")[0].innerHTML.replace(/ /g,""),b=$(".pswp--open").find(".pswp__caption__center");$(".wrapper-caption").html('<div class="pswp__counter">'+a+"</div>"+b[b.length-1].innerHTML)}function h(){$(".carousel").slick("slickPause")}function i(){$(".carousel").slick("slickPlay")}function j(a){$(".pswp__img").css("background-color",e[a])}a.preventDefault(),b=c.index($(this).closest(".single-image-modal"));var k={history:!1,closeOnVerticalDrag:!1,showHideOpacity:!0,zoomEl:!0,shareEl:!1,fullscreenEl:!1,allowPanToNext:!1,preload:[1,3],index:b},l=!0,m=new PhotoSwipe(f,PhotoSwipeUI_Default,d,k);m.listen("afterChange",function(){g(),j(m.getCurrentIndex())}),m.listen("gettingData",function(){if(l){for(var a=0,b=m.items.length;b>a;a++)e.push(m.items[a].bgColor);l=!1}}),m.listen("destroy",function(){i()}),m.init(),g(),h()})});var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);